<div ng-if="vm.loading" class="w100 default-margin text-center">
  <app-spinner></app-spinner>
</div>

<div ng-if="!vm.loading" class="invoice-list-card mdl-card w100">
  <div class="mdl-card__title">
    <h2 class="mdl-card__title-text">Notas Fiscais</h2>
  </div>
  <div class="mdl-card__menu">
    <button
      ui-sref="invoice-new({companyId: vm.company.id})"
      class="new-invoice-button mdl-button mdl-js-button mdl-button--fab mdl-button--mini-fab mdl-button--colored">
      <i class="material-icons">add</i>
    </button>
  </div>
  <div
    ng-if="vm.invoices.length === 0"
    class="mdl-card__supporting-text"
  >
    Não existem notas fiscais para o período.
  </div>
  <div class="table-responsive">
    <table
      ng-if="vm.invoices.length > 0"
      class="table-invoices mdl-data-table mdl-js-data-table w100"
    >
      <tr>
        <th>Código</th>
        <th class="mdl-data-table__cell--non-numeric">Descrição</th>
        <th>Valor</th>
        <th class="mdl-data-table__cell--non-numeric">Data de emissão</th>
        <th class="mdl-data-table__cell--non-numeric">Anexo</th>
        <th>&#160;</th>
      </tr>
      <tr ng-repeat="invoice in vm.invoices">
        <td>{{ invoice.code }}</td>
        <td class="mdl-data-table__cell--non-numeric"
        >{{ invoice.description }}</td>
        <td>{{ vm.formatCurrency(invoice.amount) }}</td>
        <td class="mdl-data-table__cell--non-numeric">
          {{ vm.formatDate(invoice.issueDate) }}
        </td>
        <td class="mdl-data-table__cell--non-numeric">
          {{ vm.formatTaxAnnex(invoice.taxAnnex) }}
        </td>
        <td class="text-center">
          <button ng-click="vm.destroy(invoice.id)" class="delete-invoice-button mdl-button mdl-js-button mdl-button--icon mdl-button--accent">
            <i class="material-icons">delete</i>
          </button>
        </td>
      </tr>
    </table>
  </div>

</div>
